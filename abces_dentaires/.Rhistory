pull(male_mean_age)
entry_mode <- rouen %>%
filter(sejum == "URGE" & modeent_label == "Du domicile") %>%
summarize(entry_mode = n()) %>%
pull(entry_mode)
library(ggplot2)
rouen %>%
select(patid, evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(binwidth = 5, color = "white", boundary = 0.5) +
scale_x_continuous(breaks = seq(0, 100, 5)) +
scale_y_continuous(breaks = seq(0, 100, 10)) +
labs(
title = "Age distribution",
x = "Age",
y = "Frequency"
)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(binwidth = 5, color = "white", boundary = 0.5) +
scale_x_continuous(breaks = seq(0, 100, 5)) +
scale_y_continuous(breaks = seq(0, 100, 10)) +
labs(
title = "Age distribution",
x = "Age",
y = "Frequency"
)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(binwidth = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_bar(binwidth = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_col(binwidth = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram()
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_bar(stat = "count", binwidth = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_col    (stat = "count", binwidth = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", bins =  = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", bins = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", bins = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth =  = 5, color = "white", boundary = 0.5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth = 5, color = "white", boundary = 0.5)
plotly(rouen, x = ~evtid, y = ~patage)
plotly(rouen, x = ~evtid, y = ~patage, type = "hist")
plotly(rouen, x = ~evtid, y = ~patage, type = "histogram")
plot_ly(rouen, x = ~evtid, y = ~patage, type = "histogram")
plot_ly(rouen, y = ~patage, type = "histogram")
plot_ly(rouen, x = ~patage, type = "histogram")
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% plot_ly(x = ~patage, type = "histogram")
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% plot_ly(x = ~patage, type = "histogram", autobinx = T)
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(x = patage) %>% geom_histogram()
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(x = patage) + geom_histogram()
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram()
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram(stat="count")
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram(yt="count")
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram(y="count")
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram(aes(y="count"))
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram(stat_bin="count")
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram(stat="count")
rouen %>% select(evtid,patage,patsex) %>% distinct() %>% ggplot(aes(x = patage)) + geom_histogram(stat="count", bins = 10)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth = range(patage) / 10) +
labs(title = "Histogram", x = "Age", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth = range(x) / 10) +
labs(title = "Histogram", x = "Age", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth = range(.$patage) / 10) +
labs(title = "Histogram", x = "Age", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth = range(patage) / 10) +
labs(title = "Histogram", x = "Age", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(stat = "count", binwidth = 10) +
labs(title = "Histogram", x = "Age", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +geom_col()
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) + geom_bar()
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) + geom_bar(binwidth=5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) + geom_bar(bins=5)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
count(patage) %>%
ggplot(aes(x = patage, y = n)) +
geom_bar(stat = "identity", width = 0.5, color = "white", fill = "skyblue") +
labs(title = "Bar Plot", x = "Age", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
count(patage) %>%
ggplot(aes(x = patage, y = n)) +
geom_bar(stat = "identity", width = 5.5, color = "white", fill = "skyblue") +
labs(title = "Bar Plot", x = "Age", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
count(patage) %>%
mutate(age_group = cut(patage, breaks = 10)) %>%
ggplot(aes(x = age_group, fill = age_group)) +
geom_bar() +
labs(title = "Bar Plot", x = "Age Group", y = "Count")
library(dplyr)
library(ggplot2)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(binwidth = 10, color = "white", fill = "skyblue") +
labs(title = "Histogram", x = "Age", y = "Count")
library(dplyr)
library(ggplot2)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
count(patage) %>%
ggplot(aes(x = as.character(patage))) +
geom_bar(width = 0.5, color = "white", fill = "skyblue") +
labs(title = "Bar Plot", x = "Age", y = "Count")
library(dplyr)
library(ggplot2)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
count(patage) %>%
ggplot(aes(x = as.character(patage), y = n)) +
geom_bar(stat = "identity", color = "white", fill = "skyblue") +
labs(title = "Bar Plot", x = "Age", y = "Count")
library(dplyr)
library(ggplot2)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
mutate(age_group = cut(patage, breaks = 10)) %>%
ggplot(aes(x = age_group)) +
geom_bar(color = "white", fill = "skyblue") +
labs(title = "Bar Plot", x = "Age Group", y = "Count")
library(dplyr)
library(ggplot2)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
mutate(age_group = cut(patage, breaks = c(0, 20, 40, 60, 80, Inf), include.lowest = TRUE, labels = c("0-20", "21-40", "41-60", "61-80", "81+"))) %>%
ggplot(aes(x = age_group)) +
geom_bar(color = "white", fill = "skyblue") +
labs(title = "Bar Plot", x = "Age Group", y = "Count")
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
ggplot(aes(x = patage)) +
geom_histogram(binwidth = 5, color = "white", boundary = 0.5)
str(rouen$patage)
rouen %>%
select(evtid, patage, patsex) %>%
distinct() %>%
mutate(patage = as.numeric(patage)) %>%
ggplot(aes(x = patage)) +
geom_histogram(binwidth = 5, color = "white", boundary = 0.5) +
scale_x_continuous(breaks = seq(0, 100, 5)) +
scale_y_continuous(breaks = seq(0, 100, 10)) +
labs(
title = "Age distribution",
x = "Age",
y = "Frequency"
)
tab <- rouen %>%
select(patid, patage, patsex) %>%
distinct()
ggplot(tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_col(position = "identity") +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
title = "Patient's age distribution by sex",
fill = "Gender",
y = "Age",
x = "Count"
) +
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
tab <- rouen %>%
select(patid, patage, patsex) %>%
distinct()
TAB
tab
tab %>% str
ggplot(tab, aes(x = cut(as.numeric(patage), breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_col(position = "identity") +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
title = "Patient's age distribution by sex",
fill = "Gender",
y = "Age",
x = "Count"
) +
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
tab
tab <- rouen %>%
select(patid, patage, patsex) %>%
distinct() %>% mutate(patage = as.numeric(patage))
ggplot(tab, aes(x = cut(as.numeric(patage), breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_col(position = "identity") +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
title = "Patient's age distribution by sex",
fill = "Gender",
y = "Age",
x = "Count"
) +
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
ggplot(tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_col(position = "identity") +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
title = "Patient's age distribution by sex",
fill = "Gender",
y = "Age",
x = "Count"
) +
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
ggplot(tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_col(position = "identity")
ggplot(tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_bar(position = "identity") +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
title = "Patient's age distribution by sex",
fill = "Gender",
y = "Age",
x = "Count"
) +
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
ggplot(tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_bar(data = subset(tab, tab$patient_gender == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patient_gender == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
title = "Patient's age distribution by sex",
fill = "Gender",
y = "Age",
x = "Count"
) +
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
ggplot(tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")),
fill = factor(patsex))) +
geom_bar(data = subset(tab, tab$patient_gender == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patient_gender == "M"), aes(y = after_stat(count) * (-1)))
ggplot(data = tab, aes(x = factor(patage), fill = patsex)) +
geom_bar(data = subset(tab, tab$patient_gender == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patient_gender == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)
ggplot(data = tab, aes(x = factor(patage), fill = patsex)) +
geom_bar(data = subset(tab, tab$patsex == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patsex == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)
ggplot(data = tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")), fill = patsex)) +
geom_bar(data = subset(tab, tab$patsex == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patsex == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 50)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)
ggplot(data = tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")), fill = patsex)) +
geom_bar(data = subset(tab, tab$patsex == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patsex == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 5)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)+
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
ggplot(data = tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")), fill = patsex)) +
geom_bar(data = subset(tab, tab$patsex == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patsex == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 5)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)+
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
rouen %>%
select(patid, patage, patsex %>% count(patsex)
rouen %>%
select(patid, patage, patsex) %>% count(patsex)
rouen %>%
select(patid, patage, patsex) %>% distinct() %>% count(patsex)
tab <- rouen %>%
select(patid, patage, patsex) %>%
distinct()
ggplot(data = tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")), fill = patsex)) +
geom_bar(data = subset(tab, tab$patsex == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patsex == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 5)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)+
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
tab
tab %>% count(patsex)
tab <- rouen %>%
select(patid, patage, patsex) %>%
distinct() %>% mutate(patage = as.numeric(patage))
ggplot(data = tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")), fill = patsex)) +
geom_bar(data = subset(tab, tab$patsex == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patsex == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 5)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)+
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
g = ggplot(data = tab, aes(x = cut(patage, breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),
labels = c("0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70",
"71-80", "81-90", "91-100")), fill = patsex)) +
geom_bar(data = subset(tab, tab$patsex == "F"), position = "identity") +
geom_bar(data = subset(tab, tab$patsex == "M"), aes(y = after_stat(count) * (-1))) +
scale_y_continuous(breaks = seq(-1000, 1000, 5)) +
coord_flip() +
labs(
y = "Count",
x = "Age",
fill = "Gender", title = "Patient's age distribution by sex"
)+
theme(
legend.position = "bottom",
plot.title = element_text(hjust = 0.5)
)
ggplotly(g)
# Pie chart SEX
rouen %>%
select(patid, patsex) %>%
distinct() %>%
count(patsex) %>%
mutate(prop = round(prop.table(n) * 100, 2)) %>%
ggplot(aes(x = "", y = prop, fill = patsex)) +
geom_bar(width = 1, stat = "identity", color = "white") +
coord_polar("y", start = 0) +
geom_text(aes(label = paste(prop, "% ", "(", n, ")", sep = "")),
position = position_stack(vjust = 0.5),
color = "black") +
theme_void() +
labs(fill = "Gender", title = "Gender representation")
