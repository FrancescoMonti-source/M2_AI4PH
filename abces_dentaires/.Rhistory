qare %>%
count(patient_gender, patient_age_range) %>%
group_by(patient_gender) %>%
mutate("%" = round(prop.table(n)*100,2)) %>%
select(patient_gender,patient_age_range)
qare %>%
count(patient_gender, patient_age_range)
qare %>%
count(patient_gender, patient_age_range)
library(tidyverse)
library(stringr)
library(openxlsx)
qare = read.xlsx("care_plateforme.xlsx", sheet = 1)
qare = qare %>% select(-c(ticked_cardio_vascular_family, ticked_asthma, ticked_stress, ticked_psycho, ticked_neuroleptics,
ticked_bcg, ticked_diphtheria_polio, ticked_tetanus, ticked_pertussis, ticked_haemophilus,
ticked_hepatitis_b, ticked_pneumococcus, ticked_meningitis_c, ticked_mmr, ticked_hpv, ticked_influenza,
ticked_zona, ticked_food, ticked_diet, ticked_alcohol, ticked_cigarettes, ticked_exercise)) %>%
mutate(
consultation_id = as.numeric(as.factor(consultation_id)),
patient_id = as.numeric(as.factor(patient_id)),
physician_id = as.numeric(as.factor(physician_id))
)
qare %>%
ggplot()+
geom_bar(aes(x = patient_age_range))+
scale_y_continuous(breaks = seq(0,1000,50))+
labs(title = "Patient age distribution",
y = "Count",
x = "Age")
qare %>%
filter(!is.na(patient_gender)) %>%
ggplot()+
geom_bar(aes(x = patient_age_range, fill = patient_gender), position = "dodge")+
scale_y_continuous(breaks = seq(0,1000,50))+
labs(title = "Patient age distribution by sex",
y = "Count",
x = "Age",
fill = "Gender")
#pivot_wider(names_from = patient_gender, values_from = c(n, "%")) %>%
#rename("F" = n_F,"M" = n_M,"NA" = n_NA,"F%" = `%_F`,"M%" = `%_M`,"NA%" = `%_NA`) %>%
#select(-contains("NA")) %>%
#mutate(F = paste(`F`," (",`F%`,"%)", sep = ""),
#       M = paste(`M`," (",`M%`,"%)", sep = "")) %>%
#select(-`F%`, -`M%`) %>%
#rename("Age_category" = patient_age_range) %>%
qare %>%
count(patient_gender, patient_age_range)
group_by(patient_gender) %>%
mutate("%" = round(prop.table(n)*100,2)) %>%
select(patient_gender,patient_age_range)
qare %>%
count(patient_gender, patient_age_range)
qare %>%
count(patient_gender, patient_age_range) %>%
group_by(patient_gender) %>%
mutate("%" = round(prop.table(n)*100,2)) %>%
select(patient_gender,patient_age_range)
tab = qare %>%
count(patient_gender, patient_age_range) %>%
group_by(patient_gender) %>%
mutate("%" = round(prop.table(n)*100,2)) %>%
select(patient_gender,patient_age_range)
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=..count..*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=``after_stat(count)*(-1))) +
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=`after_stat`(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=`after_stat(count)`*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()
tab = qare %>%
count(patient_gender, patient_age_range)
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()
yab
tav
tab
tab = qare %>%
count(patient_gender, patient_age_range) %>%
#group_by(patient_gender) %>%
#mutate("%" = round(prop.table(n)*100,2)) %>%
select(patient_gender,patient_age_range)
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()
tab
tab = qare %>%
#count(patient_gender, patient_age_range) %>%
#group_by(patient_gender) %>%
#mutate("%" = round(prop.table(n)*100,2)) %>%
select(patient_gender,patient_age_range)
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()
devtools::install_github("dgrtwo/snippr")
snippets_get()
devtools::install_github("dgrtwo/snippr")
devtools::install_github("dgrtwo/snippr")
devtools::install_github("dgrtwo/snippr")
View(qare)
library(lubridate))
library(lubridate)
month(qare$day)
month(qare$day) %>% table
library(tidyverse)
month(qare$day) %>% table
month(qare$day) %>% factor
month(qare$day) %>% factor(levels = c("January","February","Mars","April","May","June","July","August","September","October","November","December"))
month(qare$day) %>% factor(labels = c("January","February","Mars","April","May","June","July","August","September","October","November","December"))
month(qare$day) %>% factor(labels = c("January","February","Mars","April","May","June","July","August","September","October","November","December")) %>% table
library(tidyverse)
library(stringr)
library(openxlsx)
install.packages("openxlsx")
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
ggplot()+
geom_bar()
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_bar()
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_col()
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_histogram()
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame()
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_bar(aes(x=.,y=Freq))
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_bar(aes(x=.))
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=.))
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=., y=Freq))
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=., y=Freq))+
scale_y_continuous(seq(0,1000,25))+
labs(title = "TCs by month")
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=., y=Freq))+
scale_y_continuous(breaks=seq(0,1000,25))+
labs(title = "TCs by month")
month(qare$day) %>%
factor(labels = c("January","February","Mars","April","May","June","July",
"August","September","October","November","December")) %>%
table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=., y=Freq))+
scale_y_continuous(breaks=seq(0,1000,25))+
labs(title = "TCs by month",
x="",
y="Count")
library(openxlsx)
library(stringr)
getSeason <- function(input.date){
numeric.date <- 100*month(input.date)+day(input.date)
## input Seasons upper limits in the form MMDD in the "break =" option:
cuts <- base::cut(numeric.date, breaks = c(0,319,0620,0921,1220,1231))
# rename the resulting groups (could've been done within cut(...levels=) if "Winter" wasn't double
levels(cuts) <- c("Winter","Spring","Summer","Fall","Winter")
return(cuts)
}
getSeason(qare$day)
library(devtools)
install_github("FrancescoMonti-source/fmckage")
library(fmckage)
library(tidyverse)
library(stringr)
library(openxlsx)
library(fmckage)
qare = read.xlsx("care_plateforme.xlsx", sheet = 1)
month(qare$day) %>%
getSeason() %>% table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=., y=Freq))+
scale_y_continuous(breaks=seq(0,1000,25))+
labs(title = "TCs by season",
x="",
y="Count")
getSeason(qare$day) %>% table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=., y=Freq))+
scale_y_continuous(breaks=seq(0,1000,25))+
labs(title = "TCs by season",
x="",
y="Count")
getSeason(qare$day) %>% table %>% as.data.frame() %>%
ggplot()+
geom_col(aes(x=., y=Freq))+
scale_y_continuous(breaks=seq(0,1000,50))+
labs(title = "TCs by season",
x="",
y="Count")
qare = qare %>% select(-c(ticked_cardio_vascular_family, ticked_asthma, ticked_stress, ticked_psycho, ticked_neuroleptics,
ticked_bcg, ticked_diphtheria_polio, ticked_tetanus, ticked_pertussis, ticked_haemophilus,
ticked_hepatitis_b, ticked_pneumococcus, ticked_meningitis_c, ticked_mmr, ticked_hpv, ticked_influenza,
ticked_zona, ticked_food, ticked_diet, ticked_alcohol, ticked_cigarettes, ticked_exercise)) %>%
mutate(
consultation_id = as.numeric(as.factor(consultation_id)),
patient_id = as.numeric(as.factor(patient_id)),
physician_id = as.numeric(as.factor(physician_id))
)
View(qare)
qare$cim10 %>% table
case_when(tr_detect(qare$cim10,"Abcès") ~ "Abcès/périodontite")
case_when(str_detect(qare$cim10,"Abcès") ~ "Abcès/périodontite")
case_when(str_detect(qare$cim10,"Abcès") ~ "Abcès/périodontite",)
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie" ~ "Carie"),
TRUE ~ "Autre")
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")
table(qare$cim10)
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% table()
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% table() %>% prop.table
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% count
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% count()
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% tally()
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% add_count()
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% summarise()
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% summarise(n())
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% summarise(n())
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% count()
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% head
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% count(.)
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% group_by(.) %>% count()
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% group_by(.) %>% count(.)
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% group_by(.) %>% summarise(n)
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% group_by(.) %>% summarise(n())
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% group_by(.) %>% summarise(n=n())
case_when(str_detect(qare$cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre") %>% data.frame %>% mutate(. = factor(.)) %>% group_by(.) %>% summarise(n=n())
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
group_by(.) %>% summarise(n=n())
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
group_by(cim10) %>% summarise(n=n())
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
group_by(cim10) %>% summarise(n=n(), "%" = prop.table(n))
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
group_by(cim10) %>% count()
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
count(cim10)
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
count(cim10) %>% mutate("%" = prop.table(n))
count(cim10) %>% mutate("%" = round(prop.table(n)*100,2)
qare %>%
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
count(cim10) %>% mutate("%" = round(prop.table(n)*100,2))
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
count(cim10) %>% mutate("%" = round(prop.table(n)*100,2)) %>% kable
library(knitr)
count(cim10) %>% mutate("%" = round(prop.table(n)*100,2)) %>% kable
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
count(cim10) %>% mutate("%" = round(prop.table(n)*100,2)) %>% kable
library(tidyverse)
library(stringr)
library(openxlsx)
library(fmckage)
library(pander)        # Function `pander()` to report results of statistical analysis.
install.packages("pander")
install.packages("gt")
install.packages("flextable")
install.packages("DT")
library(tidyverse)
library(stringr)
library(openxlsx)
library(fmckage)
library(pander)        # Function `pander()` to report results of statistical analysis.
library(knitr)         # Function `kable()` to convert data frames into tables for reports.
library(DT)            # Interactive tables for HTML documents (DataTables).
library(gt)            # Easily Create Presentation-Ready Display Tables.
library(flextable)     # Functions for Tabular Reporting.
qare = read.xlsx("care_plateforme.xlsx", sheet = 1)
qare = qare %>% select(-c(ticked_cardio_vascular_family, ticked_asthma, ticked_stress, ticked_psycho, ticked_neuroleptics,
ticked_bcg, ticked_diphtheria_polio, ticked_tetanus, ticked_pertussis, ticked_haemophilus,
ticked_hepatitis_b, ticked_pneumococcus, ticked_meningitis_c, ticked_mmr, ticked_hpv, ticked_influenza,
ticked_zona, ticked_food, ticked_diet, ticked_alcohol, ticked_cigarettes, ticked_exercise)) %>%
mutate(
consultation_id = as.numeric(as.factor(consultation_id)),
patient_id = as.numeric(as.factor(patient_id)),
physician_id = as.numeric(as.factor(physician_id))
)
help-bookdown
install.packages("bookdown")
qare %>%
mutate(cim10 = case_when(
str_detect(cim10,"Abcès|périodontite") ~ "Abcès/périodontite",
str_detect(qare$cim10,"Carie") ~ "Carie",
TRUE ~ "Autre")) %>%
data.frame %>%
count(cim10) %>% mutate("%" = round(prop.table(n)*100,2)) %>% kable
mean(qare$nb_consultations_completed, na.rm=T
mean(qare$nb_consultations_completed, na.rm=T
mean(qare$nb_consultations_completed, na.rm=T)
mean(qare$nb_consultations_completed_same_topic, na.rm=T)
table(qare$nb_consultations_completed_same_topic)
table(qare$nb_consultations_completed_same_topic) %>% kable
table(qare$nb_consultations_completed_same_topic) %>% data.frame()
table(qare$nb_consultations_completed_same_topic) %>% data.frame() %>% mutate(Nb_consultation = Var1, "%" = round(prop.table(Freq)*100,2))
table(qare$nb_consultations_completed_same_topic) %>% data.frame() %>% mutate(Nb_consultation = Var1, "%" = round(prop.table(Freq)*100,2)) %>% select(-Var1)
table(qare$nb_consultations_completed_same_topic) %>% data.frame() %>% rename(Nb_consultation = Var1) %>%  mutate("%" = round(prop.table(Freq)*100,2))
table(qare$nb_consultations_completed_same_topic) %>% data.frame() %>% rename(Nb_consultation = Var1) %>%  mutate("%" = round(prop.table(Freq)*100,2)) %>% kable
install.packages("styler")
styler:::style_active_file()
styler:::style_selection()
library(tidyverse)
library(stringr)
library(openxlsx)
library(lubridate)
library(fmckage)
library(pander)        # Function `pander()` to report results of statistical analysis.
library(knitr)         # Function `kable()` to convert data frames into tables for reports.
library(DT)            # Interactive tables for HTML documents (DataTables).
library(gt)            # Easily Create Presentation-Ready Display Tables.
library(flextable)     # Functions for Tabular Reporting.
qare = read.xlsx("care_plateforme.xlsx", sheet = 1)
table(qare$nb_consultations_completed_same_topic) %>%
data.frame() %>%
rename(Nb_consultation = Var1) %>%
mutate("%" = round(prop.table(Freq) * 100, 2)) %>%
kable()
qare$duration
qare$consultation_duration
mean(qare$consultation_duration,na.rm=T)/60
round(mean(qare$consultation_duration,na.rm=T)/60,2)
round(mean(qare$consultation_duration,na.rm=T),2)
round(mean(qare$consultation_duration,na.rm=T),2) %>% hms()
round(mean(qare$consultation_duration,na.rm=T),2) %>% minutes()
round(mean(qare$consultation_duration,na.rm=T),2)
round(mean(qare$consultation_duration,na.rm=T),2) %>% class()
round(mean(qare$consultation_duration,na.rm=T),2) %>% as.integer() %>% minutes()
seconds_to_period(348)
round(mean(qare$consultation_duration,na.rm=T),2)
round(mean(qare$consultation_duration,na.rm=T),2) %>% seconds_to_period()
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()+
labs(y = "Count",
x = "Age")
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()+
labs(y = "Count",
x = "Age", fill = "gender")
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,100)) +
coord_flip()+
labs(y = "Count",
x = "Age",
fill = "Gender")
ggplot(data = tab, aes(x=factor(patient_age_range),fill=patient_gender)) +
geom_bar(data=subset(tab, tab$patient_gender=="F"), position = "identity") +
geom_bar(data=subset(tab, tab$patient_gender=="M"),aes(y=after_stat(count)*(-1))) +
scale_y_continuous(breaks=seq(-1000,1000,50)) +
coord_flip()+
labs(y = "Count",
x = "Age",
fill = "Gender")
